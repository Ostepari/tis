<!DOCTYPE html>
<html>
<head>
  <script src="fabric.min.js"></script>
  <script src="canvas-controller.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="style-avatar.css">
</head>
<body>
<div class="avatar">
  <div id="canvasPanel">
    <div class="tool-wrapper">
      <button type="button" class="btn-default " title="" onclick="addTriangle()"><i class="fa fa-file"></i></button>
      <button type="button" class="btn-default " title="" onclick="bringForward()"><i class="fa fa-plus-square"></i></button>
      <button type="button" class="btn-default " title="" onclick="sendBackwards()"><i class="fa fa-minus-square"></i></button>
      <button type="button" class="btn-default " title="" onclick="deleteSelected()"><i class="fa fa-trash-o"></i></button>
      <button type="button" class="btn-default " title="" onclick="canvas.clear()"><i class="fa fa-times"></i></button>
      <button type="button" class="btn-default " title="" ><i class="fa fa-floppy-o"></i></button>
    </div>
  	<canvas id="myCanvas" width="400" height="350">
  	Your browser does not support the HTML5 canvas tag.
  	</canvas>
  </div>

  <div class="objekty">
    <img src="temy/1/eyes.png" onclick="addImage('eyes.png', 0.1, 0.25)" class="avatar-objekt">
    <img src="temy/1/nose.png" onclick="addImage('nose.png', 0.1, 0.25)" class="avatar-objekt">
  </div>
</div>
<script type="text/javascript">
// create a wrapper around native canvas element (with id="c")
var canvas = new fabric.Canvas('myCanvas');

// create a rectangle object
var rect = new fabric.Rect({
  left: 100,
  top: 100,
  fill: 'red',
  width: 20,
  height: 20
});

// "add" rectangle onto canvas
canvas.add(rect);

// delete object on keydown delete key
document.addEventListener('keydown', function (e) {
     onKeyDownHandler(e)
}, false);

function onKeyDownHandler(e) {
   switch (e.keyCode) {
      case 46: // delete
         var activeObject = canvas.getActiveObject();
         if (activeObject) canvas.remove(activeObject);
         return;
   }
};
</script>

</body>
</html>
